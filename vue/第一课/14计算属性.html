<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>计算属性</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <div id="app">
        <input type="text" v-model.number="num">
        <div>
            {{countNun}}
        </div>
        <div>
            {{countNun}}
        </div>
    </div>

    <script>
        const app = new Vue({
            el:"#app",
            data:{
                // 名称不能和methods computed重复
               num:1
            },
            methods:{
                // 名称不能和methods data重复
                getCount(){
                    // console.log("啦啦啦")
                    // 有两次调动，就会运行两次，不能缓存结果，每次都是重新计算
                    return this.num+1;
                }
            },
            // 当app.item和app.index的值发生了变化时，app.itemIndex的值也会自动更新
            // 并且会自动同步更新DOM部分
            computed:{
                 // 计算属性里面的方法，可以直接当做变量来使用
                    // 因为他是一个getter setter的语法糖
                    // 计算属性里面的方法不能和methods data里面的名称重复
                countNun(){
                    console.log("啦啦啦")
                    // 如果当前data选项里面有数据发生变化 computed就会重新计算一次
                    // 只要变量不发生就不会重新计算
                    // 不管引用多少，都不会触发新的计算
                    // 只要模板上没有引用，就算变量发生可改变，也不会计算(惰性加载机制)
                    return this.num+1
                }
            }
        })
    </script>
</body>
</html>